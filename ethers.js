// Ethers.js v5.7.2
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ethers={})}(this,(function(t){"use strict";var e="5.7.2";const n=new RegExp("^(0x)?[0-9a-fA-F]{40}$");const i=new RegExp("^(0x)?[0-9a-fA-F]{64}$");const r={debug:!1,error:!1,info:!1,warning:!1};const o="undefined"!=typeof self?self:global;function s(t){return!!t&&"function"==typeof t.then}function a(){return(new Date).getTime()}function c(t,e){return e?`0x${h(t).substring(2)}`:`0x${h(t).substring(2).toLowerCase()}`}const u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function h(t){let e="0x";for(let n=0;n<t.length;n++){const i=t[n];e+=u[i>>4],e+=u[15&i]}return e}function l(t,e){if(e||(e=1),e>t.length)throw new Error("buffer too short");let n=0,i=1;for(let r=0;r<e;r++)n+=t[t.length-1-r]*i,i*=256;return n}function p(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(parseInt(t.substring(n,n+2),16));return y(e)}function f(t){const e=d(t);return e.length%2&&e.unshift(0),y(e)}function d(t){if(t<0)throw new Error("cannot be negative");const e=[];for(;t;)e.unshift(255&t),t=Math.floor(t/256);return e.length||e.unshift(0),e}function m(t){return y(t).map(t=>t.toString(16).padStart(2,"0")).join("")}function g(t){const e=[];for(let n=0;n.toString(16).padStart(2,"0")).join("")}function _(t){const e=p(t.substring(2));return(new TextDecoder).decode(e)}function E(t){const e=(new TextEncoder).encode(t);return c(e)}function v(t,e){const n=d(e);return n.length>t&&(w(R.BUFFER_OVERFLOW,"too many bytes for bit length",{length:t,value:e}),n.splice(0,n.length-t)),y(n,{length:t})}function y(t,e){const n=Uint8Array.from(t);if(e&&n.length!==e.length&&!e.allowLess&&!e.allowMore){if(n.length>e.length)w(R.BUFFER_OVERFLOW,"buffer length exceeds expected length",{buffer:n,expectedLength:e.length,length:n.length});else if(n.length<e.length)w(R.BUFFER_OVERFLOW,"buffer length is less than expected length",{buffer:n,expectedLength:e.length,length:n.length})}return n}function b(t){const e=[];for(const n of t)e.push(...n);return y(e)}function A(t){return!!t.toHexString}function C(t){return A(t)?t.toHexString():"number"==typeof t?`0x${t.toString(16)}`:S(t)?c(t):null}function S(t){return!(!t||!t.length||"number"!=typeof t.length)}function w(t,e,n){const i=new Error(e);return i.code=t,i.reason=e,n&&(Object.keys(n).forEach(t=>{i[t]=n[t]})),i}var R;!function(t){t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.NUMERIC_FAULT="NUMERIC_FAULT",t.BUFFER_OVERFLOW="BUFFER_OVERFLOW",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.NETWORK_ERROR="NETWORK_ERROR",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.ACTION_REJECTED="ACTION_REJECTED",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.NONCE_EXPIRED="NONCE_EXPIRED"}(R||(R={}));const k={};function I(t,e,n){k[t]=n}function O(t,e){const n=t.split(":");return e||(e="unknown"),1===n.length?n[0]:n[1].trim()}function L(){if(r.debug)console.log(...arguments)}function T(){if(r.warning)console.warn(...arguments)}const N={};function D(t,e,n){if(null==N[t])N[t]={};const i=N[t];null==i[e]&&(i[e]=[]),i[e].push(n),L("defineReadOnly:",t,e)}function x(t,e,n){return D(t,"string"==typeof e?e:e.toString(),n)}function B(t,e){const n={};return Object.defineProperties(t,e),n}function M(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}function P(t,e){const n={};if(e)for(const t in e)n[t]={configurable:!0,enumerable:!0,value:e[t],writable:!1};return B(t,n)}const F={};function U(t,e,n){F[`/${t}`]=n}function H(t,e){let n=F[t];if(n||(n=k[t]),n)return n(e);w(R.INVALID_ARGUMENT,"missing provider",{arg:"provider",value:t})}function V(t){const e={};const n={};const i=H("base64",t).split("").reduce((t,e,n)=>{if(n%4==0)return t;t.push(e);return t},[]).join("");for(let t=0;t<64;t++)e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(t)]=t;return function(t){if(t=t.replace(/=/g,""),t.length%4==1)throw new Error("invalid base64 string");let r="";let o=0,s=0;for(let a=0;a<t.length;a++){const c=e[t[a]];if(void 0===c)throw new Error("invalid base64 string");o=(o<<6)|c,s+=6,s>=8&&(r+=String.fromCharCode(o>>(s-=8)&255))}return r}}const z=/^(0x)?[0-9a-fA-F]*$/;function K(t){if("string"!=typeof t||!z.test(t))return!1;if(t.length%2!=0)return!1;return!0}const G=new RegExp("^(b(ase)?(16|32|64(url)?)?|e(th(er)?)?|u(tf-?8)?|h(ex(str)?)?)$","i");function $(t){if("string"==typeof t&&G.test(t))return!0;return!1}function W(t,e){if(!e)return p(t);switch(e){case"base16":case"hex":return p(t.substring(2));case"base64":return y(V(t));case"base64url":return y(V(t));case"utf8":case"utf-8":return(new TextEncoder).encode(t);case"eth":return p(t);default:return w(R.INVALID_ARGUMENT,"invalid encoding",{value:t,encoding:e})}}function j(t,e){if(!e)return h(t);switch(e){case"base16":case"hex":return c(t);case"base64":return function(t){const e=(new Uint8Array(t)).reduce((t,e)=>t+String.fromCharCode(e),"");return H("base64",e)}(t);case"base64url":return function(t){return function(t){const e=(new Uint8Array(t)).reduce((t,e)=>t+String.fromCharCode(e),"");return H("base64",e)}(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(t);case"utf8":case"utf-8":return(new TextDecoder).decode(t);case"eth":return c(t);default:return w(R.INVALID_ARGUMENT,"invalid encoding",{value:t,encoding:e})}}function q(t){return S(t)?m(t):null}function J(t){const e=H("base64",t);return t=>y(e(t))}function X(t,e){return S(t)&&S(e)?m(t)===m(e):null}function Y(t){const e=p(t.substring(2));let n=0;for(const t of e)for(let e=0;e<8;e++)(16&t)>>4!=0&&(n++),(15&t)>>0!=0&&(n++),t<<=2;return n}function Z(t){return(t=>("string"==typeof t&&n.test(t)))(t)?t.toLowerCase():null}function Q(t){const e=Z(t);if(!e)throw new Error(`invalid address: ${t}`);const n=p(e.substring(2)),i=H("sha3",n),r=i.split("").map(t=>parseInt(t,16)),s=e.substring(2).split("");for(let t=0;t<40;t+=2)r[t]>>3&1&&(s[t]=s[t].toUpperCase()),r[t+1]>>3&1&&(s[t+1]=s[t+1].toUpperCase());return`0x${s.join("")}`}function tt(t){if(!n.test(t))return!1;t=t.toLowerCase();for(let n=0;n<t.length;n++)if("0123456789abcdef".indexOf(t[n])===-1)return!1;const e=t.substring(2),i=p(e),r=H("keccak256",i).substring(2).split(""),s=e.split("");let a=0,c=0;for(let t=0;t<40;t+=2)parseInt(r[t],16)>=8&&s[t].toUpperCase()===s[t]||parseInt(r[t],16)<8&&s[t].toLowerCase()===s[t]?(a++,c++):parseInt(r[t],16)>=8&&s[t].toLowerCase()===s[t]||parseInt(r[t],16)<8&&s[t].toUpperCase()===s[t]?c++:a++;return a===c||0===c}function et(t){try{return Q(t)}catch(t){}return null}function nt(t){return"0x"==t.substring(0,2)?t.substring(2):t}function it(t){return`0x${t}`}const rt=new(class{constructor(){this._data=new Uint8Array(32),this._data.fill(0)}get data(){return y(this._data)}get dataLength(){return 32}get isNegative(){return!1}toTwos(t){return this}fromTwos(t){return w(R.NUMERIC_FAULT,"unsigned value cannot be negative",{value:this}),this}toHexString(){return c(this.data)}toString(){return this.toBigInt().toString()}toBigInt(){return ot(this.data)}toNumber(){return l(this.data,6)}eq(t){return X(this.toHexString(),st(t).toHexString())}lt(t){const e=st(t);for(let t=0;t<32;t++){if(this._data[t]<e._data[t])return!0;if(this._data[t]>e._data[t])return!1}return!1}lte(t){const e=st(t);for(let t=0;t<32;t++){if(this._data[t]<e._data[t])return!0;if(this._data[t]>e._data[t])return!1}return!0}gt(t){const e=st(t);for(let t=0;t<32;t++){if(this._data[t]>e._data[t])return!0;if(this._data[t]<e._data[t])return!1}return!1}gte(t){const e=st(t);for(let t=0;t<32;t++){if(this._data[t]>e._data[t])return!0;if(this._data[t]<e._data[t])return!1}return!0}add(t){return st(this.toBigInt()+st(t).toBigInt())}sub(t){return st(this.toBigInt()-st(t).toBigInt())}mul(t){return st(this.toBigInt()*st(t).toBigInt())}div(t){const e=st(t);if(e.isZero())w(R.NUMERIC_FAULT,"division by zero",{operation:"div",operand:t});return st(this.toBigInt()/e.toBigInt())}mod(t){return st(this.toBigInt()%st(t).toBigInt())}mask(t){if(t<0||t>256)w(R.INVALID_ARGUMENT,"invalid mask length",{arg:"maskLength",value:t});const e=new Uint8Array(32);let n=Math.floor(t/8);for(let i=0;i<n;i++)e[31-i]=this._data[31-i];if(n<32){const i=t%8;e[31-n]=(255>>(8-i))&this._data[31-n]}return rt.from(e)}shl(t){if(t<0||t>256)w(R.INVALID_ARGUMENT,"invalid shift value",{arg:"shift",value:t});return st(this.toBigInt()<<BigInt(t))}shr(t){if(t<0||t>256)w(R.INVALID_ARGUMENT,"invalid shift value",{arg:"shift",value:t});return st(this.toBigInt()>>BigInt(t))}isZero(){for(let t=0;t<32;t++)if(this._data[t])return!1;return!0}static from(t){return new rt(t)}constructor(t){let e=null;if(S(t))e=y(t,{length:32,allowLess:!0});else if("string"==typeof t)K(t)?e=p(nt(t)):w(R.INVALID_ARGUMENT,"invalid hex string",t);else if("number"==typeof t)e=d(t);else if("bigint"==typeof t){if(t<ht)w(R.NUMERIC_FAULT,"unsigned value cannot be negative",{value:t});e=f(t)}else A(t)&&(e=y(p(nt(t.toHexString())),"invalid BigNumberish value"));if(null==e||e.length>32)w(R.INVALID_ARGUMENT,"invalid BigNumberish value",t);const n=new Uint8Array(32);n.set(e,32-e.length),this._data=n}});const ot=t=>l(t);const st=t=>"bigint"==typeof t?rt.from(t):rt.from(t);const at=new(class extends rt{constructor(){super(),this._data.fill(0),this._negative=!1}get isNegative(){return this._negative}toTwos(t){const e=this.toBigInt(),n=BigInt(1)<<BigInt(t-1);return st(e<ht?e:(e-n)|n)}fromTwos(t){const e=this.toBigInt(),n=BigInt(1)<<BigInt(t-1);return st(e&n?e|~n:e)}static from(t){return new at(t)}constructor(t){super(t);const e=this._data[0]>=128;this._negative=e,e&&this._data.set(new rt(this.toBigInt())._data)}});const ct=new(class extends rt{get isNegative(){return!1}});function ut(t,e){return"object"==typeof t&&t.constructor===e}const ht=BigInt(0);const lt=BigInt(1);const pt=BigInt(2);const ft=Big-Int(256);const dt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const mt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const gt=BigInt("-0x8000000000000000000000000000000000000000000000000000000000000000");const _t=rt.from;function Et(t,e,n){return P(t,function(t,e,n){const i={};n.forEach(n=>{i[n]=H(t,e)});return i}(t,e,n))}function vt(t,e){return B(t,{provider:{configurable:!0,enumerable:!0,get:()=>e,set:n=>{n||w(R.UNSUPPORTED_OPERATION,"cannot remove provider",{operation:"removeProvider"}),e=n}}})}const yt={bigint:(t,e)=>BigInt(t),number:(t,e)=>parseInt(String(t)),"boolean":(t,e)=>!!t,"hex":(t,e)=>{if("boolean"==typeof t)return t?"0x1":"0x0";if("bigint"==typeof t||"number"==typeof t)return`0x${t.toString(16)}`;if(S(t))return c(t);w(R.INVALID_ARGUMENT,"invalid hex value",t)},"string":(t,e)=>t.toString()};function bt(t,e){return yt[t](e)}function At(t,e){const n=yt[t];return(t,i)=>{try{return n(t,i)}catch(t){return e}}}(new class{get name(){return"wordlist"}get locale(){return"en"}split(t){return t.split(" ")}join(t){return t.join(" ")}});const Ct={};function St(t,e){if(e=e.toLowerCase(),Ct[e])w(R.INVALID_ARGUMENT,"cannot register existing type",{arg:"type",value:e});Ct[e]=t}St("address",(t,e)=>{if(!n.test(t))return e?e(t,e):w(R.INVALID_ARGUMENT,"invalid address",t);return t.toLowerCase()}),St("uint",(t,e)=>{const n=st(t);return n.isNegative?e?e(t,e):w(R.NUMERIC_FAULT,"unsigned value cannot be negative",{value:t}):n}),St("int",(t,e)=>{const n=st(t);return n}),St("bytes",(t,e)=>{if(S(t))return m(t);if(K(t))return t.toLowerCase();e?e(t,e):w(R.INVALID_ARGUMENT,"invalid bytes value",t)}),St("string",(t,e)=>{if("string"!=typeof t)return e?e(t,e):w(R.INVALID_ARGUMENT,"invalid string value",t);return t});const wt={address:"bytes20",uint:"uint256",int:"int256"};class Rt{constructor(t,e,n){let i=!1;"("===t[0]&&(i=!0,t=t.substring(1,t.length-1));const r=t.split(",");if(i&&r.length!==n.length)w(R.INVALID_ARGUMENT,"types/values length mismatch",{types:r,values:n});const o=[];let s=0;for(const t of n){let n=!1;if(i){const e=r[s++];o.push(new It(o,e,t)),n="tuple"===o[o.length-1].type}else n="tuple"===new It(o,e,t).type;if(n)continue;let a=!1;if(A(t))a=!0;else if(S(t))a=!0;else if(K(t))a=!0;else if("number"==typeof t)a=!0;else if("bigint"==typeof t)a=!0;else if($(t))a=!0;else if(null!=e&&$(e))a=!0;else if("string"==typeof t){const e=_t.from(t).toHexString();a=e.length===2*rt.from(t).toHexString().length}if(!a)w(R.INVALID_ARGUMENT,`invalid ${e||"value"}`,t)}this.values=o}get types(){return this.values.map(t=>t.type)}get length(){return this.values.length}get(t){return this.values[t].value}format(t){const e=[];for(let n=0;n<this.length;n++)e.push(this.values[n].format(t));return`(${e.join(",")})`}static from(t,e){return new Rt(null,t,e)}}class It{constructor(t,e,n){this.name=null,this.type=e,this.value=n,this.parent=t,this.arrayChildren=null,this.children=null;let i=this.type.match(/^((u?int|bytes)([0-9]*))$/);i||(i=this.type.match(/^(string|address)$/));if(i){const t=i[1],e=wt[t]||t;let n=null;"string"!==e&&"address"!==e&&(n=parseInt(i[3]||"256"));this.type=e,this.arrayLength=n,this.value=function(t,e,n){if("address"===t)return Ct.address(e,n);if("string"===t)return Ct.string(e,n);if(t.startsWith("uint"))return Ct.uint(e,n);if(t.startsWith("int"))return Ct.int(e,n);if(t.startsWith("bytes"))return Ct.bytes(e,n);w(R.INVALID_ARGUMENT,"unknown type",{type:t})}(this.type,this.value)}else{const t=this.type.match(/^(.*)\[([0-9]*)\]$/);t&&(this.type=t[1],this.arrayLength=parseInt(t[2]||"-1"),this.arrayChildren=[],this.value=function(t,e){if(-1===t.arrayLength)return e;if(t.arrayLength!==e.length)w(R.INVALID_ARGUMENT,"invalid array length",{count:e.length,expectedCount:t.arrayLength});return e.map((e,n)=>new It(t,t.type,e))}(this,this.value));const e=this.type.match(/^\((.*)\)$/);e&&(this.type="tuple",this.children=new Rt(e[1],null,this.value))}}get length(){return this.children?this.children.length:this.arrayChildren?this.arrayChildren.length:void 0}get(t){return"number"==typeof t&&t<0&&(t+=this.length),this.children?this.children.get(t):this.arrayChildren?this.arrayChildren[t]:void 0}format(t){if(this.children)return this.children.format(t);if(this.arrayChildren)return`[${this.arrayChildren.map(e=>e.format(t)).join(",")}]`;switch(t){case kt.sighash:return wt[this.type]||this.type;case kt.minimal:return this.type;default:return this.type}}}var kt;!function(t){t.sighash="sighash",t.minimal="minimal"}(kt||(kt={}));class Ot{constructor(t,e){Array.isArray(t)||(t=[{type:e,value:t}]),this.params=t.map(t=>("string"==typeof t?{type:"string",value:t}:t))}format(t){const e=this.params.map(e=>new It(null,e.type,e.value).format(t||kt.minimal));return`(${e.join(t===kt.minimal?",":", ")})`}static from(t){return new Ot(t)}}const Lt=new class{constructor(t){B(this,{coder:t})}pack(t,e){return this.coder.encode(t,e)}unpack(t,e){return this.coder.decode(t,e)}encode(t,e){return p(this.pack(t,e))}decode(t,e){return this.unpack(t,e)}getDefaultValue(t){const e=[];t.forEach(t=>{const n=t.arrayChildren;n?e.push(n):e.push(t.defaultValue)});const n={};return t.forEach((t,i)=>{const r=t.name;r&&(null==n[r]&&(n[r]=e[i]),null==n[i]&&(n[i]=e[i]))}),n}constructor(){this._getCoder=(t,e)=>{switch(t.type){case"address":return new Pt(t.name);case"bool":return new Ft(t.name);case"string":return new Ut(t.name);case"bytes":return new Ht(t.name);case"array":return new Vt(this._getCoder(t.arrayChildren,e),t.arrayLength,t.name);case"tuple":return new zt(t.children.map(t=>this._getCoder(t,e)),t.name);case"int":case"uint":return new Kt(t.arrayLength/8,t.type.startsWith("int"),t.name)}return w(R.INVALID_ARGUMENT,`invalid type "${t.type}"`,{arg:"type",value:t.type})}}};class Tt{constructor(t){this.size=t}encode(t,e){try{this.writeValue(e,t.consume(this.size))}catch(t){w(R.BUFFER_OVERFLOW,"value out of range",{coder:this,value:e,thrown:t})}}decode(t){return this.readValue(t.readBytes(this.size))}pack(t,e,n){return e.forEach((t,i)=>this.encode(n,t[i])),e.length}unpack(t,e,n){const i=[];for(let r=0;r<n;r++)i.push(this.decode(t,e));return{value:i,consumed:n}}}class Nt extends Tt{constructor(t){super(t),this.name="address",this.type="address",this.localName="localAddress"}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){const n=p(Z(e));n.length!==this.size&&w(R.INVALID_ARGUMENT,`invalid address length ${n.length} (expected ${this.size})`,{coder:this,value:e}),t.writeBytes(n)}decode(t){return Q(c(t.readBytes(this.size)))}}class Dt extends Tt{constructor(t){super(t),this.name="number",this.type=`uint${8*t}`,this.localName="localValue"}defaultValue(){return 0}writeValue(t,e){const n=st(e).toHexString();return n.length>2*this.size+2&&w(R.BUFFER_OVERFLOW,`value too large for ${this.type}`,{coder:this,value:e}),t.writeBytes(f(e),this.size)}readValue(t){return st(t).toNumber()}}class xt extends Dt{constructor(t){super(t),this.type=`int${8*t}`}writeValue(t,e){return super.writeValue(t,st(e).toTwos(8*this.size))}readValue(t){return st(t).fromTwos(8*this.size).toNumber()}}class Bt extends Tt{constructor(t,e,n){super(32),this.coder=t,this.length=e,this.localName=n,this.name="array",this.type=`${t.type}[${e<0?"":e}]`,this.dynamic=e<0}defaultValue(){const t=[];for(let e=0;e<this.length;e++)t.push(this.coder.defaultValue());return t}encode(t,e){-1!==this.length&&e.length!==this.length&&w(R.INVALID_ARGUMENT,"invalid array length",{coder:this,count:e.length,expectedCount:this.length}),this.dynamic&&(t.writeValue(e.length),t.align(this.coder.dynamic?-1:this.coder.size));let n=1;e.forEach((e,i)=>{const r=t.subWriter();this.coder.encode(r,e),this.coder.dynamic&&(t.writeValue(n),n+=r.length),t.appendWriter(r)})}decode(t){const e=this.dynamic?t.readValue().toNumber():this.length;if(-1!==this.length&&e!==this.length)w(R.INVALID_ARGUMENT,"invalid array length",{coder:this,count:e,expectedCount:this.length});const n=[];for(let i=0;i<e;i++){const e=t.subReader();this.coder.dynamic&&(e.seek(t.readValue().toNumber())),n.push(this.coder.decode(e))}return n}}class Mt extends Tt{constructor(t,e,n){super(32),this.coders=t,this.localName=n,const i=[];const r={};this.coders.forEach((t,n)=>{i.push(t.type),null!=t.localName&&(r[t.localName]=t.type)});this.name="tuple",this.type=`tuple(${i.join(",")})`,this.dynamic=!this.coders.reduce((t,e)=>t&&!e.dynamic,!0)}defaultValue(){const t=[];this.coders.forEach(e=>{t.push(e.defaultValue())});const e={};return this.coders.forEach((n,i)=>{const r=n.localName;null!=r&&(void 0===e[r]&&(e[r]=t[i]),void 0===e[i]&&(e[i]=t[i]))}),P(t,e)}encode(t,e){t.align(-1);const n=[];const i=[];this.coders.forEach((r,o)=>{const s=t.subWriter();r.encode(s,e[o]),n.push(s),i.push(r.dynamic)}),n.reduce((t,e)=>t+e.length,0);let r=0;n.forEach((e,o)=>{i[o]?(t.writeValue(r),r+=e.length):r+=e.length}),n.forEach(e=>t.appendWriter(e))}decode(t){const e=[];return this.coders.forEach((n,i)=>{const r=t.subReader();n.dynamic&&(r.seek(t.readValue().toNumber())),e.push(n.decode(r))}),e}pack(t,e,n){return t.forEach((t,i)=>this.encode(n,t[i])),e.length}}class Pt extends Tt{constructor(t){super(32),this.localName=t,this.name="address",this.type="address",this.dynamic=!1}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){const n=p(Z(e));t.writeValue(st(n).toHexString())}decode(t){return Q(c(t.readValue().toHexString().substring(2).padStart(40,"0")))}}class Ft extends Tt{constructor(t){super(32),this.localName=t,this.name="bool",this.type="bool",this.dynamic=!1}defaultValue(){return!1}encode(t,e){t.writeValue(e?1:0)}decode(t){return!t.readValue().isZero()}}class Ut extends Tt{constructor(t){super(32),this.localName=t,this.name="string",this.type="string",this.dynamic=!0}defaultValue(){return""}encode(t,e){const n=E(e);t.writeValue(n.length),t.writeBytes(n)}decode(t){return _(c(t.readBytes(t.readValue().toNumber())))}}class Ht extends Tt{constructor(t){super(32),this.localName=t,this.name="bytes",this.type="bytes",this.dynamic=!0}defaultValue(){return"0x"}encode(t,e){e=y(p(e));const n=e.length;t.writeValue(n);const i=Math.ceil(n/32);const r=new Uint8Array(32*i);r.set(e,0),t.writeBytes(r)}decode(t){return c(t.readBytes(t.readValue().toNumber()))}}class Vt extends Tt{constructor(t,e,n){super(e*t.size),this.coder=t,this.length=e,this.localName=n,this.name="array",this.type=`${t.type}[${e<0?"":String(e)}]`,this.dynamic=e<0}defaultValue(){const t=[];for(let n=0;n<this.length;n++)t.push(this.coder.defaultValue());return t}encode(t,e){this.length>=0&&e.length!==this.length&&w(R.INVALID_ARGUMENT,"invalid array length",{coder:this,count:e.length,expectedCount:this.length}),this.dynamic&&t.writeValue(e.length);const n=new(this.coder.constructor)("value");e.forEach(e=>{n.encode(t,e)})}decode(t){const e=this.dynamic?t.readValue().toNumber():this.length;const n=new(this.coder.constructor)("value");const i=[];for(let r=0;r<e;r++)i.push(n.decode(t));return i}}class zt extends Tt{constructor(t,e){let n=0;const i=t.reduce((t,e)=>{n+=e.size;return t&&e.dynamic},!1);super(n),this.coders=t,this.localName=e;const r=[];t.forEach(t=>{r.push(t.type)});this.name="tuple",this.type=`tuple(${r.join(",")})`,this.dynamic=i}defaultValue(){const t=[];this.coders.forEach(e=>{t.push(e.defaultValue())});const e={};return this.coders.forEach((n,i)=>{void 0===e[i]&&(e[i]=t[i]),null!=n.localName&&void 0===e[n.localName]&&(e[n.localName]=t[i])}),P(t,e)}encode(t,e){this.coders.forEach((n,i)=>{n.encode(t,e[i])})}decode(t){const e=[];const n={};return this.coders.forEach((i,r)=>{const o=i.decode(t);void 0===e[r]&&(e[r]=o),null!=i.localName&&void 0===n[i.localName]&&(n[i.localName]=o)}),P(e,n)}}class Kt extends Tt{constructor(t,e,n){super(t),this.signed=e,this.localName=n,this.name=(e?"int":"uint")+8*t,this.type=(e?"int":"uint")+8*t,this.dynamic=!1}defaultValue(){return 0}encode(t,e){let n=st(e);const i=st(1).shl(8*this.size);this.signed?(n=n.toTwos(8*this.size),n.gte(i)&&w(R.BUFFER_OVERFLOW,"value too large",{coder:this,value:e})):n.isNegative&&w(R.BUFFER_OVERFLOW,"unsigned value cannot be negative",{coder:this,value:e});t.writeValue(n)}decode(t){let e=t.readValue();return this.signed&&(e=e.fromTwos(8*this.size)),e.toNumber()}}class Gt extends Mt{constructor(t,e){super(t.map(t=>t.coder),e),this._names=t.map(t=>t.name),this.name="Result",this.type="Result"}decode(t){const e=super.decode(t);return e._names=this._names,e}}new(class extends Lt{constructor(){super(...arguments)}encode(t,e){const n=t.map(t=>this._getCoder(t,e));const i=new Mt(n.map((t,e)=>({coder:t,name:t.localName})),"result");const r=new(class extends(class{constructor(){this.data=[],this.allowAppend=!1}get length(){let t=0;this.data.forEach(e=>{t+=e.length});return t}append(t){this.data.push(y(t))}write(t,e){const n=new Uint8Array(e);n.set(t),this.append(n)}writeValue(t){this.append(st(t).toTwos(256).toHexString().substring(2))}readBytes(t,e){if(null==t)return this._data.splice(0,1)[0];const n=this.data[0];const i=n.slice(0,t);return this.data[0]=n.slice(t),i}}){constructor(){super(),this._data=[new Uint8Array(0)],this.allowAppend=!0}get length(){return this._data[0].length}append(t){const e=y(this._data[0],t);this._data=[b([e,t])]}writeValue(t){super.writeValue(t)}})})();
